(window["webpackJsonpdevelops-today"]=window["webpackJsonpdevelops-today"]||[]).push([[0],{53:function(t,e,n){t.exports=n(83)},62:function(t,e,n){},82:function(t,e,n){},83:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),o=n(27),c=n.n(o),u=n(8),i=n(17),l=n(14),s=n(46),p=n(26);var d=Object(l.c)({post:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"addInfoForPost":return Object(p.a)(e.data);default:return t}},comment:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"addInfoForComment":return Object(p.a)(e.data);case"addOneComment":return[].concat(Object(p.a)(t),[e.data]);default:return t}},currentPost:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"selectCurrentPost":return e.data;default:return t}},showModal:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"toggleModal":return!t;default:return t}}}),f=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),m=Object(l.e)(d,Object(l.d)(Object(l.a)(s.a),f)),h=(n(62),n(19)),b=n(20),g=n(22),v=n(21),O=n(23),y=n(15),j=n(9),w=n.n(j),E=n(18),x=n(24),P=n(12),C=n.n(P),k=n(47),T=n.n(k);var D=function(){return function(t){return C.a.get("https://simple-blog-api.crew.red/posts").then(function(t){return t.data}).catch(function(t){return console.log(t)}).then(function(e){return t(function(t){return{type:"addInfoForPost",data:t}}(e))}).catch(function(t){return console.log(t)})}};var I=function(t){return{type:"addOneComment",data:t}},A=function(){return function(t){return C.a.get("https://simple-blog-api.crew.red/comments").then(function(t){return t.data}).catch(function(t){return console.log(t)}).then(function(e){return t(function(t){return{type:"addInfoForComment",data:t}}(e))}).catch(function(t){return console.log(t)})}},M=function(t){return{type:"selectCurrentPost",data:t}},S=function(){return{type:"toggleModal"}},_=n(2),N=n(3);function X(){var t=Object(_.a)(["\n  display: block;\n  width: 50px;\n  margin: 5px auto;\n  border-radius: 5px;\n"]);return X=function(){return t},t}function L(){var t=Object(_.a)(["\n  display: block;\n  margin-left: auto;\n  border: none;\n  background: #fff;\n"]);return L=function(){return t},t}function q(){var t=Object(_.a)(["\n  display: flex;\n  flex-direction: column;\n  input {\n    width: 100%;\n  }\n"]);return q=function(){return t},t}function F(){var t=Object(_.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 600px;\n  height: 180px;\n  border-radius: 10px;\n  background-color: #fff;\n  padding: 10px;\n"]);return F=function(){return t},t}function B(){var t=Object(_.a)(["\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n"]);return B=function(){return t},t}var J=N.a.div(B()),R=N.a.div(F()),U=N.a.form(q()),V=N.a.button(L()),W=N.a.button(X());var $=Object(u.b)(null,function(t){return{modalToggle:function(){t(S())}}})(function(t){var e=t.modalToggle,n=t.handlerChange,r=t.createPost,o=t.postTitle,c=t.postText,u=t.postAuthor,i=t.editArticle,l=t.isEdit;return a.a.createElement(J,{onDoubleClick:e},a.a.createElement(R,null,a.a.createElement(V,{onClick:e},"X"),a.a.createElement(U,{onSubmit:l?i:r},a.a.createElement("label",null,"Post title:",a.a.createElement("input",{type:"text",value:o,name:"postTitle",required:!0,onChange:n})),a.a.createElement("label",null,"Post text:",a.a.createElement("input",{type:"text",value:c,name:"postText",required:!0,onChange:n})),a.a.createElement("label",null,"Author of post:",a.a.createElement("input",{type:"text",value:u,name:"postAuthor",required:!0,onChange:n})),a.a.createElement(W,{type:"submit"},"Save"))))});function z(){var t=Object(_.a)(["\n  display: block;\n  border: 1px solid black;\n  padding: 5px;\n  border-radius: 100%;\n  background-color: #fff;\n"]);return z=function(){return t},t}function G(){var t=Object(_.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return G=function(){return t},t}function H(){var t=Object(_.a)(["\n  width: 300px;\n  background: #ccc;\n  padding: 20px;\n  border: 1px solid black;\n  border-radius: 10px;\n  margin-bottom: 20px;\n  h3,\n  h5,\n  p {\n    text-align: center;\n    margin-bottom: 10px;\n  }\n"]);return H=function(){return t},t}function K(){var t=Object(_.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  padding: 20px;\n"]);return K=function(){return t},t}function Q(){var t=Object(_.a)(["\n  display: block;\n  width: 100px;\n  height: 20px;\n  margin: auto;\n  border: 1px solid black;\n  background: #fff;\n  border-radius: 5px;\n"]);return Q=function(){return t},t}function Y(){var t=Object(_.a)(["\n  background: #000;\n  padding: 20px;\n"]);return Y=function(){return t},t}var Z=N.a.div(Y()),tt=N.a.button(Q()),et=N.a.div(K()),nt=N.a.div(H()),rt=N.a.div(G()),at=N.a.button(z());var ot=Object(u.b)(function(t){return{posts:t.post,currentPost:t.currentPost}},function(t){return{modalToggle:function(){t(S())}}})(function(t){var e=t.posts,n=t.modalToggle,r=t.deletePost,o=t.openCurrentPost,c=t.showPostInfoInModal,u=t.currentPost;return a.a.createElement("div",null,a.a.createElement(Z,null,a.a.createElement(tt,{onClick:n},"Add new post")),a.a.createElement(et,null,e.map(function(t){return a.a.createElement(nt,{key:t.id},a.a.createElement(rt,null,a.a.createElement(at,{id:t.id,onClick:c},"Edit"),a.a.createElement(at,{id:t.id,onClick:r},"X")),a.a.createElement("h3",null,"Author: ",t.author),a.a.createElement("h3",null,t.title),a.a.createElement("p",null,t.body),a.a.createElement("p",null,t.date),a.a.createElement(tt,null,a.a.createElement(i.b,{to:"/posts/:".concat(u.id),id:t.id,onClick:o},"Open post")))})))});function ct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function ut(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ct(n,!0).forEach(function(e){Object(x.a)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ct(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var it=function(t){function e(){var t,n;Object(h.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(g.a)(this,(t=Object(v.a)(e)).call.apply(t,[this].concat(a)))).state={postTitle:"",postText:"",postAuthor:"",postDate:T()().format("LLL"),isEdit:!1,editId:""},n.componentDidMount=function(){n.props.fetchData(),n.props.fetchDataComment()},n.handlerChange=function(t){n.setState(Object(x.a)({},t.target.name,t.target.value))},n.createPost=function(){var t=Object(E.a)(w.a.mark(function t(e){var r;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),r={title:n.state.postTitle,body:n.state.postText,author:n.state.postAuthor,id:Math.round(1e4*Math.random()),date:n.state.postDate},t.next=4,n.setState({postTitle:"",postText:"",postAuthor:""});case 4:return t.next=6,C.a.post("https://simple-blog-api.crew.red/posts",ut({},r));case 6:n.props.toggleModal(),n.props.fetchData();case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),n.deletePost=function(){var t=Object(E.a)(w.a.mark(function t(e){var r;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.target.id,t.next=3,C.a.delete("https://simple-blog-api.crew.red/posts/".concat(r));case 3:n.props.fetchData();case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),n.showPostInfoInModal=function(){var t=Object(E.a)(w.a.mark(function t(e){var r,a;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.target.id,a=n.props.posts.find(function(t){return t.id===Number(r)}),t.next=4,n.setState({postTitle:a.title,postText:a.body,postAuthor:a.author,postDate:a.date,isEdit:!0,editId:r});case 4:n.props.toggleModal();case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),n.editArticle=function(){var t=Object(E.a)(w.a.mark(function t(e){var r,a;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),r=n.state.editId,a={title:n.state.postTitle,body:n.state.postText,author:n.state.postAuthor,date:n.state.postDate,id:r},t.next=5,n.setState({postTitle:"",postText:"",postAuthor:"",isEdit:!1,editId:""});case 5:return t.next=7,C.a.put("https://simple-blog-api.crew.red/posts/".concat(r),ut({},a));case 7:return t.next=9,n.props.fetchData();case 9:n.props.toggleModal();case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),n.openCurrentPost=function(t){var e=Number(t.target.id),r=n.props.posts.find(function(t){return t.id===e});n.props.selectCurrentPost(r)},n}return Object(O.a)(e,t),Object(b.a)(e,[{key:"render",value:function(){var t=this.deletePost,e=this.openCurrentPost,n=this.editArticle,r=this.showPostInfoInModal,o=this.handlerChange,c=this.createPost,u=this.state,i=u.postTitle,l=u.postText,s=u.postAuthor,p=u.isEdit,d=this.props.showModal;return a.a.createElement("div",null,d&&a.a.createElement($,{handlerChange:o,createPost:c,postTitle:i,postText:l,postAuthor:s,editArticle:n,isEdit:p}),a.a.createElement(ot,{deletePost:t,openCurrentPost:e,showPostInfoInModal:r}))}}]),e}(r.Component);var lt=Object(u.b)(function(t){return{posts:t.post,showModal:t.showModal}},function(t){return{fetchData:function(){t(D())},fetchDataComment:function(){t(A())},selectCurrentPost:function(e){t(M(e))},toggleModal:function(){t(S())}}})(it);function st(){var t=Object(_.a)(["\n  display: block;\n  width: 200px;\n  margin: 0 auto 10px;\n"]);return st=function(){return t},t}function pt(){var t=Object(_.a)(["\n  display: block;\n  width: 400px;\n  margin: auto;\n  h2,\n  h3,\n  h5,\n  p,\n  li {\n    text-align: center;\n    padding: 10px 0;\n  }\n"]);return pt=function(){return t},t}function dt(){var t=Object(_.a)(["\n  display: block;\n  width: 100px;\n  height: 20px;\n  margin: auto;\n  border: 1px solid black;\n  background: #fff;\n  border-radius: 5px;\n"]);return dt=function(){return t},t}function ft(){var t=Object(_.a)(["\n  background-color: #000;\n  padding: 20px;\n"]);return ft=function(){return t},t}var mt=N.a.div(ft()),ht=N.a.button(dt()),bt=N.a.div(pt()),gt=N.a.input(st());var vt=Object(u.b)(function(t){return{currentPost:t.currentPost}},null)(function(t){var e=t.currentPost,n=t.comments,r=t.addComment,o=t.inputComment,c=t.handlerChange;return a.a.createElement("div",null,a.a.createElement(mt,null,a.a.createElement(ht,null,a.a.createElement(i.b,{to:"/"},"To all posts"))),a.a.createElement(bt,null,a.a.createElement("h3",null,"Author: ",e.author),a.a.createElement("h5",null,e.date),a.a.createElement("h2",null,e.title),a.a.createElement("p",null,e.body),a.a.createElement("h3",null,"Comments"),a.a.createElement("ul",null,n.map(function(t){return a.a.createElement("li",{key:t.id},t.body)})),a.a.createElement("form",{onSubmit:r},a.a.createElement(gt,{type:"text",name:"inputComment",value:o,onChange:c,required:!0}),a.a.createElement(ht,{type:"submit"},"Add comment"))))});function Ot(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function yt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ot(n,!0).forEach(function(e){Object(x.a)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ot(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var jt=function(t){function e(){var t,n;Object(h.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(g.a)(this,(t=Object(v.a)(e)).call.apply(t,[this].concat(a)))).state={inputComment:"",comments:n.props.comment.filter(function(t){return t.postId===n.props.currentPost.id})||[]},n.handlerChange=function(t){n.setState(Object(x.a)({},t.target.name,t.target.value))},n.addComment=function(){var t=Object(E.a)(w.a.mark(function t(e){var r;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),r={body:n.state.inputComment,postId:n.props.currentPost.id,id:Math.round(1e4*Math.random())},t.next=4,C.a.post("https://simple-blog-api.crew.red/comments",yt({},r));case 4:return t.next=6,n.props.addOneComment(r);case 6:return t.next=8,n.setState({inputComment:"",comments:n.props.comment.filter(function(t){return t.postId===n.props.currentPost.id})||[]});case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),n}return Object(O.a)(e,t),Object(b.a)(e,[{key:"render",value:function(){var t=this.state,e=t.inputComment,n=t.comments,r=this.addComment,o=this.handlerChange;return a.a.createElement(vt,{addComment:r,inputComment:e,comments:n,handlerChange:o})}}]),e}(r.Component);var wt=Object(u.b)(function(t){return{comment:t.comment,currentPost:t.currentPost}},function(t){return{addOneComment:function(e){t(I(e))}}})(jt),Et=(n(82),function(t){function e(){return Object(h.a)(this,e),Object(g.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(O.a)(e,t),Object(b.a)(e,[{key:"render",value:function(){return a.a.createElement(y.c,null,a.a.createElement(y.a,{exact:!0,path:"/",render:function(){return a.a.createElement(lt,null)}}),a.a.createElement(y.a,{path:"/posts/:id",render:function(){return a.a.createElement(wt,null)}}))}}]),e}(r.Component)),xt=Object(y.f)(Et);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(u.a,{store:m},a.a.createElement(i.a,null,a.a.createElement(xt,null))," "),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[53,1,2]]]);
//# sourceMappingURL=main.bdac8828.chunk.js.map